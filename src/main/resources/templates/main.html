<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:insert="~{fragment/generalFragment:: head}"></head>

<body>
<div>
    <form th:action="@{/logout}" method="post">
        <input type="submit" value="Sign Out"/>
    </form>
    <span><a href="/user">User list</a></span>
</div>

<div>
    <form method="post" enctype="multipart/form-data">
        <input type="text" name="text" placeholder="Enter message"/>
        <input type="text" name="tag" placeholder="Enter tag"/>
        <input type="file" name="file"/>
        <button type="submit">Add</button>
    </form>
</div>

<form method="get">
    <input type="text" name="filter" th:value="${filter}" placeholder="Filter"/>
    <button type="submit">Search</button>
</form>

<div>List message</div>

<div>
    <table th:each="message : ${messages}">
        <tr>
            <td><b th:text="${message.id}"> ID </b></td>
            <td><span th:text="${message.text}"> Text </span></td>
            <td><i th:text="${message.tag}"> Tag </i></td>
            <td><strong th:text="${message.author.username}">Author</strong></td>
        </tr>
        <div th:if="${message.filename} != null">
            <img th:src="${'/img/' + message.filename}">
        </div>
    </table>
</div>

<div th:replace="~{fragment/generalFragment:: bootstrap}"></div>

</body>

</html>